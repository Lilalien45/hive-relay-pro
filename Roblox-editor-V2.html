<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Roblox Web Pro Viewer</title><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"><script src="https://cdn.jsdelivr.net/npm/three@0.160/build/three.min.js"></script><style>body{margin:0;overflow:hidden;background:#0f1117;color:white;font-family:Arial}#layout{display:flex;height:100vh;flex-direction:column}#topbar{background:#161b22;padding:6px}#workspace{flex:1;display:flex;overflow:hidden}#explorer{width:240px;background:#1c1f26;overflow:auto;padding:8px}#viewport{flex:1;position:relative;touch-action:none}#infoPanel,#scriptPanel,#consolePanel{position:absolute;background:#000a;padding:10px;border-radius:6px;max-height:220px;overflow:auto;font-size:13px}#infoPanel{right:10px;bottom:10px;max-width:260px}#scriptPanel{left:10px;bottom:10px;white-space:pre-wrap;max-width:300px}#consolePanel{top:10px;left:10px;width:320px;height:180px;font-family:monospace;font-size:12px}button{background:#222;color:white;border:none;padding:4px 8px;border-radius:4px}</style></head><body><div id="layout"><div id="topbar"><input type="file" id="placeLoader" accept=".rbxl,.rbxlx,.rbxm,.rbxmx,.xml,.txt"></div><div id="workspace"><div id="explorer"><h3>Explorer</h3><div id="explorerTree"></div></div><div id="viewport"><div id="consolePanel">Dev Console Ready</div><div id="infoPanel">Select Instance</div><div id="scriptPanel">Script Source</div></div></div></div><script>let scene,camera,renderer,xmlDoc=null,instanceMap=new Map(),camTarget=new THREE.Vector3();function log(t){const c=document.getElementById("consolePanel");c.innerHTML+="<br>> "+t;c.scrollTop=c.scrollHeight}window.log=log;function initEngine(){const vp=document.getElementById("viewport");scene=new THREE.Scene();camera=new THREE.PerspectiveCamera(75,vp.clientWidth/vp.clientHeight,.1,10000);renderer=new THREE.WebGLRenderer({antialias:true});renderer.setSize(vp.clientWidth,vp.clientHeight);vp.appendChild(renderer.domElement);scene.add(new THREE.HemisphereLight(0xffffff,0x444444,1));scene.add(new THREE.DirectionalLight(0xffffff,1));scene.add(new THREE.GridHelper(1000,200));initControls(vp);animate()}function initControls(vp){let rot=false,lx=0,ly=0;vp.addEventListener("pointerdown",e=>{rot=true;lx=e.clientX;ly=e.clientY});vp.addEventListener("pointerup",()=>rot=false);vp.addEventListener("pointermove",e=>{if(!rot)return;let dx=e.clientX-lx,dy=e.clientY-ly,s=.01;camera.position.x+=dx*s;camera.position.y-=dy*s;lx=e.clientX;ly=e.clientY});vp.addEventListener("wheel",e=>{e.preventDefault();camera.position.z+=e.deltaY*.05},{passive:false});vp.oncontextmenu=e=>e.preventDefault()}function animate(){requestAnimationFrame(animate);camera.lookAt(camTarget);renderer.render(scene,camera)}placeLoader.addEventListener("change",e=>{const f=e.target.files[0];if(!f)return;log("Loading "+f.name);const r=new FileReader();r.onload=()=>parseRobloxXML(r.result);r.readAsText(f)});function parseRobloxXML(text){xmlDoc=new DOMParser().parseFromString(text,"text/xml");buildExplorer();buildScene()}function buildExplorer(){const tree=document.getElementById("explorerTree");tree.innerHTML="";xmlDoc.documentElement.childNodes.forEach(n=>{if(n.nodeName==="Item")tree.appendChild(buildExplorerNode(n))})}function buildExplorerNode(node){const div=document.createElement("div");div.style.marginLeft="12px";const name=node.querySelector("Properties > string[name='Name']");const label=name?name.textContent:node.getAttribute("class");const btn=document.createElement("button");btn.style.width="100%";btn.textContent=label;btn.onclick=()=>showData(node);div.appendChild(btn);node.childNodes.forEach(c=>{if(c.nodeName==="Item")div.appendChild(buildExplorerNode(c))});return div}function showData(node){const info=document.getElementById("infoPanel");const scriptPanel=document.getElementById("scriptPanel");let props="";node.querySelectorAll("Properties > *").forEach(p=>props+=p.getAttribute("name")+": "+p.textContent+"<br>");info.innerHTML="<b>"+(node.querySelector(\"Properties > string[name='Name']\")?.textContent||node.getAttribute(\"class\"))+"</b><br>"+props;let scriptText="";node.querySelectorAll("Item").forEach(child=>{if(child.getAttribute("class")==="Script"){let src=child.querySelector(\"Properties > string[name='Source']\");if(src)scriptText+=src.textContent+\"\\n\\n\"}});scriptPanel.textContent=scriptText||\"No Script Source\"}function parseVector3(s){let a=s.split(\",\");return{x:parseFloat(a[0])||1,y:parseFloat(a[1])||1,z:parseFloat(a[2])||1}}function parseColor3(s){let a=s.split(\",\");return new THREE.Color(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]))}function parseCFrame(s){let n=s.split(\",\");return{pos:{x:parseFloat(n[0])||0,y:parseFloat(n[1])||0,z:parseFloat(n[2])||0},rot:{x:parseFloat(n[3])||0,y:parseFloat(n[4])||0,z:parseFloat(n[5])||0}}}async function renderInstance(node,parent){const cls=node.getAttribute(\"class\");let obj=null;if(cls===\"Part\"){let size=node.querySelector(\"Properties > Vector3[name='Size']\");let cf=node.querySelector(\"Properties > CoordinateFrame[name='CFrame']\");let color=node.querySelector(\"Properties > Color3[name='Color']\");let tex=node.querySelector(\"Properties > Content[name='TextureID']\");let s=size?parseVector3(size.textContent):{x:1,y:1,z:1};let mat=new THREE.MeshStandardMaterial({color:color?parseColor3(color.textContent):Math.random()*0xffffff});if(tex){let m=tex.textContent.match(/(\\d+)/);if(m)new THREE.TextureLoader().load(`https://assetdelivery.roblox.com/v1/asset/?id=${m[1]}`,t=>{mat.map=t;mat.needsUpdate=true})}obj=new THREE.Mesh(new THREE.BoxGeometry(s.x,s.y,s.z),mat);if(cf){let c=parseCFrame(cf.textContent);obj.position.set(c.pos.x,c.pos.y,c.pos.z);obj.rotation.set(c.rot.x,c.rot.y,c.rot.z)}}else if(cls===\"Model\"||cls===\"Folder\")obj=new THREE.Group();if(obj){instanceMap.set(node,obj);(parent?parent:scene).add(obj);node.childNodes.forEach(c=>{if(c.nodeName===\"Item\")renderInstance(c,obj)})}}function buildScene(){scene.clear();scene.add(new THREE.HemisphereLight(0xffffff,0x444444,1));scene.add(new THREE.GridHelper(1000,200));xmlDoc.documentElement.childNodes.forEach(n=>{if(n.nodeName===\"Item\")renderInstance(n,null)});autoFrameCamera()}function autoFrameCamera(){let box=new THREE.Box3().setFromObject(scene);let center=box.getCenter(new THREE.Vector3());let size=box.getSize(new THREE.Vector3());let dist=Math.max(size.x,size.y,size.z)*3+50;camTarget.copy(center);camera.position.set(center.x+dist,center.y+dist,center.z+dist)}initEngine();</script></body></html>
