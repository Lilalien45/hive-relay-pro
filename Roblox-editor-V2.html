<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Web Roblox Studio Engine Pro</title><script src="https://cdn.jsdelivr.net/npm/three@0.160/build/three.min.js"></script><style>body{margin:0;background:#0f1117;color:white;font-family:Arial}#layout{display:flex;flex-direction:column;height:100vh}#topbar{background:#161b22;padding:6px;display:flex;gap:6px;flex-wrap:wrap}#workspace{flex:1;display:flex}#explorer{width:260px;background:#1c1f26;overflow:auto;padding:10px}#viewport{flex:1;position:relative}#infoPanel{position:absolute;bottom:10px;right:10px;background:#000a;padding:10px;border-radius:6px;font-size:13px;max-width:260px}button{background:#222;color:white;border:none;padding:4px 8px;border-radius:4px;cursor:pointer}</style></head><body><div id="layout"><div id="topbar"><input type="file" id="placeLoader" accept=".rbxl,.rbxlx,.rbxm,.rbxmx,.xml,.txt"><span>Drop Place File Anywhere</span></div><div id="workspace"><div id="explorer"><h3>Explorer</h3><div id="explorerTree"></div></div><div id="viewport"><div id="infoPanel">Select Instance</div></div></div></div><script>let scene,camera,renderer,xmlDoc=null,instanceMap=new Map();function initRenderer(){const vp=document.getElementById("viewport");scene=new THREE.Scene();camera=new THREE.PerspectiveCamera(75,vp.clientWidth/vp.clientHeight,.1,2000);renderer=new THREE.WebGLRenderer({antialias:true});renderer.setSize(vp.clientWidth,vp.clientHeight);vp.appendChild(renderer.domElement);scene.add(new THREE.HemisphereLight(0xffffff,0x444444,1));scene.add(new THREE.DirectionalLight(0xffffff,1));scene.add(new THREE.GridHelper(200,50));initCameraControls(vp);animate()}function initCameraControls(vp){let d=false,lx=0,ly=0;vp.addEventListener("mousedown",e=>{if(e.button===2){d=true;lx=e.clientX;ly=e.clientY}});vp.addEventListener("mouseup",()=>d=false);vp.addEventListener("mousemove",e=>{if(!d)return;const dx=e.clientX-lx,dy=e.clientY-ly,s=.01;camera.position.x+=dx*s;camera.position.y-=dy*s;lx=e.clientX;ly=e.clientY});vp.addEventListener("wheel",e=>camera.position.z+=e.deltaY*.01);vp.oncontextmenu=e=>e.preventDefault()}function animate(){requestAnimationFrame(animate);renderer.render(scene,camera)}placeLoader.addEventListener("change",e=>{const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=()=>parseRobloxFile(r.result,f.name);r.readAsText(f)});document.addEventListener("dragover",e=>e.preventDefault());document.addEventListener("drop",e=>{e.preventDefault();const f=e.dataTransfer.files[0];if(!f)return;const r=new FileReader();r.onload=()=>parseRobloxFile(r.result,f.name);r.readAsText(f)});function parseRobloxFile(text,name){if(name.match(/\.(rbxl|rbxlx|rbxm|rbxmx|xml|txt)$/))parseRobloxXML(text)}function parseRobloxXML(text){xmlDoc=new DOMParser().parseFromString(text,"text/xml");buildExplorer();buildScenePreview()}function buildExplorer(){const tree=document.getElementById("explorerTree");tree.innerHTML="";xmlDoc.documentElement.childNodes.forEach(n=>{if(n.nodeName==="Item")tree.appendChild(buildExplorerNode(n))})}function buildExplorerNode(node){const div=document.createElement("div");div.style.marginLeft="10px";const name=node.querySelector("Properties > string[name='Name']");const label=name?name.textContent:node.getAttribute("class");div.innerHTML=`<button style="width:100%;text-align:left">${label}</button>`;div.querySelector("button").onclick=()=>showInfo(node);node.childNodes.forEach(c=>{if(c.nodeName==="Item")div.appendChild(buildExplorerNode(c))});return div}function showInfo(node){const panel=document.getElementById("infoPanel");const name=node.querySelector("Properties > string[name='Name']");const size=node.querySelector("Properties > Vector3[name='Size']");const color=node.querySelector("Properties > Color3[name='Color']");const cf=node.querySelector("Properties > CoordinateFrame[name='CFrame']");panel.innerHTML=`<b>${name?name.textContent:node.getAttribute("class")}</b><br>Size: ${size?size.textContent:"N/A"}<br>Color: ${color?color.textContent:"N/A"}<br>CFrame: ${cf?cf.textContent:"N/A"}`}function parseVector3(s){const a=s.split(",");return{x:parseFloat(a[0])||1,y:parseFloat(a[1])||1,z:parseFloat(a[2])||1}}function parseColor3(s){const a=s.split(",");return new THREE.Color(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]))}function parseCFrame(s){const n=s.split(",");return{pos:{x:parseFloat(n[0])||0,y:parseFloat(n[1])||0,z:parseFloat(n[2])||0},rot:{x:parseFloat(n[3])||0,y:parseFloat(n[4])||0,z:parseFloat(n[5])||0}}}function loadMeshTexture(id,mat){return new Promise(res=>{new THREE.TextureLoader().load(`https://assetdelivery.roblox.com/v1/asset/?id=${id}`,tex=>{mat.map=tex;mat.needsUpdate=true;res()})})}async function renderInstance(node,parent){const cls=node.getAttribute("class");let obj=null;if(cls==="Part"){const size=node.querySelector("Properties > Vector3[name='Size']");const cf=node.querySelector("Properties > CoordinateFrame[name='CFrame']");const color=node.querySelector("Properties > Color3[name='Color']");const mesh=node.querySelector("Properties > Content[name='MeshId']");const s=size?parseVector3(size.textContent):{x:1,y:1,z:1};let mat=new THREE.MeshStandardMaterial({color:color?parseColor3(color.textContent):Math.random()*0xffffff});if(mesh){const m=mesh.textContent.match(/(\d+)/);if(m)await loadMeshTexture(m[1],mat)}obj=new THREE.Mesh(new THREE.BoxGeometry(s.x,s.y,s.z),mat);if(cf){const c=parseCFrame(cf.textContent);obj.position.set(c.pos.x,c.pos.y,c.pos.z);obj.rotation.set(c.rot.x,c.rot.y,c.rot.z)}}else if(cls==="Model"||cls==="Folder")obj=new THREE.Group();if(obj){instanceMap.set(node,obj);(parent?parent:scene).add(obj);node.childNodes.forEach(c=>{if(c.nodeName==="Item")renderInstance(c,obj)})}}function buildScenePreview(){scene.clear();scene.add(new THREE.HemisphereLight(0xffffff,0x444444,1));scene.add(new THREE.GridHelper(200,50));xmlDoc.documentElement.childNodes.forEach(n=>{if(n.nodeName==="Item")renderInstance(n,null)});autoFrameCamera()}function autoFrameCamera(){const box=new THREE.Box3().setFromObject(scene);const center=box.getCenter(new THREE.Vector3());const size=box.getSize(new THREE.Vector3());const d=Math.max(size.x,size.y,size.z)*2||10;camera.position.set(center.x+d,center.y+d,center.z+d);camera.lookAt(center)}initRenderer();</script></body></html>
